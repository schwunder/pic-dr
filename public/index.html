<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Dim-Reduction Playground</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://d3js.org/d3-hexbin.v0.2.min.js"></script>
  <script src="https://d3js.org/d3-quadtree.v3.min.js"></script>
  <script src="https://d3js.org/d3-force.v3.min.js"></script>
  <script src="https://d3js.org/d3-scale-chromatic.v3.min.js"></script>
  <script src="https://d3js.org/d3-transition.v3.min.js"></script>
  <style>
    /* ─── overall reset ───────────────────────────────────────── */
    * { box-sizing:border-box; }
    html, body { margin:0; height:100%; font-family:system-ui,sans-serif; }

    /* ─── control bar (top) ───────────────────────────────────── */
    #bar {
      display:flex; flex-wrap:wrap; gap:1rem;
      padding:1rem; background:#fff;
      box-shadow:0 1px 4px rgba(0,0,0,.05);
      z-index:10;
    }
    #bar label { display:flex; flex-direction:column; font-size:.9rem; }
    #status   { align-self:center; }

    /* ─── slider grid (collapsible) ───────────────────────────── */
    #params {
      display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
      gap:1rem; padding:1rem; background:#fff;
    }
    .param-row { display:flex; align-items:center; gap:.5rem; }
    .param-row label { flex:0 0 100px; font-size:.85rem; }

    /* ─── main viewport ───────────────────────────────────────── */
    #viewport {
      flex:1 1 auto;                     /* fills remaining height */
      display:flex; overflow:hidden;
      height:calc(100% - 200px);         /* crude but simple */
    }

    /* canvas + side pane */
    #canvas   { width:100%; }
    .show-resized #canvas { width:50vw; }
    #resized  {
      display:none; width:0; overflow:auto; flex-direction:column;
      padding:1rem; background:#fafafa;
    }
    .show-resized #resized { display:flex; width:50vw; }

    /* misc */
    img { max-width:100%; height:auto; }
    pre { background:#eee; padding:.5rem; max-height:10rem; overflow:auto; }
  </style>
</head>

<body>
  <!-- ──────────── controls ──────────── -->
  <div id="bar">
    <label>Method          <select id="method"></select></label>
    <label>Subset Strategy <select id="strategy"></select></label>
    <label>Subset Size     <input id="subset" type="number" min="1" max="500" value="250"></label>
    <button id="run">Run</button>
    <span id="status"></span>
  </div>

  <!-- sliders (renders dynamically) -->
  <div id="params"></div>

  <!-- ──────────── viewer ──────────── -->
  <div id="viewport">
    <canvas id="canvas" width="800" height="600"></canvas>

    <!-- side-pane for detail view -->
    <div id="resized">
      <div id="image"></div>
      <p id="name"></p>
      <p id="years"></p>
      <p id="nationality"></p>
      <p id="genre"></p>
      <p id="paintings"></p>
      <p id="bio"></p>
      <p id="wikipedia"></p>
      <pre id="meta"></pre>
    </div>
  </div>

  <!-- the all-in-one script you integrated earlier -->
  <script src="/main.js"></script>
</body>
</html>
